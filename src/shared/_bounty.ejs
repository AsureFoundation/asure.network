<%
camelize = function (str) {
    return str.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g, function (match, index) {
        if (+match === 0) return ""; // or if (/\s+/.test(match)) for white spaces
        return index === 0 ? match.toLowerCase() : match.toUpperCase();
    });
}
%>
<% print_section = function (typeId) {
    var weeks = public.bounty._data.index.bountyReports.weekNos;
    var sections = public.bounty._data.index.ui.filter(data => data.typeId == typeId)
    var name = sections[0].name;
%>
<div class="blc-campaign blc-campaign-<%= typeId %>">
    <div class="container">
        <div class="row" data-campaign="<%= typeId %>">
            <div class="col-xl-12 pb-4">
                <div class="head m-0">
                    <h2 class="title hr text-uppercase"><%= name %></h2>
                    <small id="my-rewards-<%= name %>">
                        Rewards: 1000 Stakes
                    </small>
                </div>

                <div class="card-columns <%= sections.length === 1 ? 'card-columns-1' : '' %>">
                    <% sections.forEach(function(item){ %>
                        <div class="card mb-2" data-taskid="<%= item.id %>">
                            <div class="card-header">
                                <h5><%= item.title %></h5>
                                <h6 class="text-muted" style="font-size: 13px"><%= item.id %></h6>
                            </div>
                            <div class="card-body">
                                <div class="card-text">
                                    <%- item.description %>
                                    <% if (item.rules.length || item.frequency == "Weekly") { %>
                                        <p class="text-center m-0">
                                            <a data-toggle="collapse" href="#collapseRules<%= item.id %>" role="button"
                                               aria-expanded="false" aria-controls="collapse">
                                                more
                                            </a>
                                        </p>
                                    <% } %>
                                </div>
                                <div class="collapse" id="collapseRules<%= item.id %>">
                                    <% if (item.rules.length) { %>
                                        <h5 class="card-title mt-2">Rules</h5>
                                        <div class="card-text">
                                            <ul>
                                                <% item.rules.forEach(function(rule){ %>
                                                    <li><%- rule %></li>
                                                <% }); %>
                                            </ul>
                                        </div>
                                    <% } %>
                                    <% if(item.frequency == "Weekly") { %>
                                        <h5 class="card-title mt-2">Weeks</h5>
                                        <div class="card-text">
                                            <% weeks.forEach(function(week){ %>
                                                <span class="week-report <%= camelize(week) %>" data-toggle="tooltip"
                                                      data-placement="top"
                                                      title="<%= week %>">
                                                    â– 
                                                </span>
                                            <% }); %>
                                        </div>
                                    <% } %>
                                </div>
                            </div>
                            <div class="card-footer d-flex justify-content-between">
                                <div>
                                    Reward:
                                    <span class="task-reward"><%= item.reward %></span>
                                    <span class="task-rewardType"><%= item.rewardType %></span>
                                    /
                                    <span class="task-frequency"><%= item.frequency %></span>
                                </div>
                                <div class="task-total-rewards"></div>
                            </div>
                        </div>
                    <% }); %>
                </div>
            </div>
        </div>
    </div>
</div>
<% } %>

<section class="blc-bounty bg-white-blue">
    <div class="container">
        <div class="head m-0">
            <h1 class="title hr">Asure Network Bounty Programm II</h1>
        </div>

        <%- partial("_bounty_info") %>

        <div class="row">
            <div class="col-lg-12">
                <div class="card mb-4">
                    <div class="card-body">
                        <form class="form-inline form-bounty-eth-addr">
                            <label class="sr-only" for="new-bounty-eth-addr">ETH address</label>
                            <div class="input-group flex-grow-1">
                                <input type="text"
                                       id="new-bounty-eth-addr"
                                       class="form-control"
                                       placeholder="ETH address"/>
                                <div class="input-group-append">
                                    <button type="submit" id="new-bounty-eth-addr-btn"
                                            class="btn btn-block btn-primary text-uppercase">
                                        Load Bounty Report
                                    </button>
                                </div>
                            </div>
                        </form>

                        <form class="form-inline form-toggle-campaigns mt-3">
                            <div class="form-check form-check-inline mr-md-3" data-toggle="tooltip"
                                 data-placement="bottom" title="Toggle Airdrop campaign">
                                <input class="form-check-input" type="checkbox" id="toggle-campaign-airdrop"
                                       value="airdrop" checked>
                                <label class="form-check-label" for="toggle-campaign-airdrop">
                                    <i class="fas fa-plane"></i>
                                </label>
                            </div>

                            <div class="form-check form-check-inline mr-md-3" data-toggle="tooltip"
                                 data-placement="bottom" title="Toggle Twitter campaign">
                                <input class="form-check-input" type="checkbox" id="toggle-campaign-twitter"
                                       value="twitter" checked>
                                <label class="form-check-label" for="toggle-campaign-twitter">
                                    <i class="fab fa-twitter"></i>
                                </label>
                            </div>

                            <div class="form-check form-check-inline mr-md-3" data-toggle="tooltip"
                                 data-placement="bottom" title="Toggle Telegram campaign">
                                <input class="form-check-input" type="checkbox" id="toggle-campaign-telegram"
                                       value="telegram" checked>
                                <label class="form-check-label" for="toggle-campaign-telegram">
                                    <i class="fab fa-telegram"></i>
                                </label>
                            </div>

                            <div class="form-check form-check-inline mr-md-3" data-toggle="tooltip"
                                 data-placement="bottom" title="Toggle Facebook campaign">
                                <input class="form-check-input" type="checkbox" id="toggle-campaign-facebook"
                                       value="facebook" checked>
                                <label class="form-check-label" for="toggle-campaign-facebook">
                                    <i class="fab fa-facebook"></i>
                                </label>
                            </div>

                            <div class="form-check form-check-inline mr-md-3" data-toggle="tooltip"
                                 data-placement="bottom" title="Toggle LinkedIn campaign">
                                <input class="form-check-input" type="checkbox" id="toggle-campaign-linkedin"
                                       value="linkedin" checked>
                                <label class="form-check-label" for="toggle-campaign-linkedin">
                                    <i class="fab fa-linkedin"></i>
                                </label>
                            </div>

                            <div class="form-check form-check-inline mr-md-3" data-toggle="tooltip"
                                 data-placement="bottom" title="Toggle Reddit campaign">
                                <input class="form-check-input" type="checkbox" id="toggle-campaign-reddit"
                                       value="reddit" checked>
                                <label class="form-check-label" for="toggle-campaign-reddit">
                                    <i class="fab fa-reddit"></i>
                                </label>
                            </div>

                            <div class="form-check form-check-inline mr-md-3" data-toggle="tooltip"
                                 data-placement="bottom" title="Toggle BitcoinTalk campaign">
                                <input class="form-check-input" type="checkbox" id="toggle-campaign-bitcoin"
                                       value="bitcointalk" checked>
                                <label class="form-check-label" for="toggle-campaign-bitcoin">
                                    <i class="fab fa-bitcoin"></i>
                                </label>
                            </div>

                            <div class="form-check form-check-inline mr-md-3" data-toggle="tooltip"
                                 data-placement="bottom" title="Toggle Creative campaign">
                                <input class="form-check-input" type="checkbox" id="toggle-campaign-creative"
                                       value="cc" checked>
                                <label class="form-check-label" for="toggle-campaign-creative">
                                    <i class="fab fa-creative-commons mr-1"></i>
                                    <i class="fab fa-youtube mr-1"></i>
                                    <i class="fab fa-medium mr-1"></i>
                                </label>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <%= print_section("airdrop") %>

    <%= print_section("twitter") %>

    <%= print_section("telegram") %>

    <%= print_section("facebook") %>

    <%= print_section("linkedin") %>

    <%= print_section("bitcointalk") %>

    <%= print_section("reddit") %>

    <%= print_section("cc") %>

</section>



